<!-- REGION : Tabs Helper for Highlighting Active Tab -->

<%- content_for :tabs do -%>

	<%= tabs(1) %>
		
<%- end -%>

<!-- END REGION : Tabs Helper for Highlighting Active Tab -->

<div class="row">
	
	<div class="col-md-12">
		
		<div class="content-wrapper">
			
			<h4 class="text-center text-bold text-primary">List of Shops</h4>
			
			<div id="divShops">
				
				<div id="divNew" class="pull-right">
					<a class='New' href='<%= url_for(:controller => "shop", :action => "new") %>' title='Add New Shop'> 
						<i class='fa fa-plus'></i>
						<span class="pad-left-5">
							Add New
						</span> 
					</a>
				</div>
				<div id="divView" class="pull-left mar-bottom-5">	
					<button type='button' class="btn btn-default" 
						onclick='window.location.href="<%= url_for(:controller => "shop", :action => "show") %>";' title='View Shops in Google Map'> 
						<i class='fa fa-map'></i>
						<span class="pad-left-5">
							Map View
						</span> 
					</button>
				</div>
				
				<table class="table table-striped table-bordered table-hover" id="tblShop">
					
					<thead>
						<tr>
							<th>S.No</th>
							<th>Shop Name</th>
							<th>Description</th>
							<th>Address</th>
							<th>Images</th>
						</tr>
					</thead>
					
					<tbody>
						
						<% if @shops.size > 0 %>
						
							<% @shops.each_with_index do |shop, index| %>
							
								<tr>
									
									<td><%= index + 1 %></td>
									<td><%= shop.name %></td>
									<td><%= shop.description %></td>
									<td><%= shop.address %></td>
									<td>
										<div id="divProduct<%= shop.id %>" class="carousel slide" data-ride="carousel">
		
											<!-- Wrapper for slides -->
											<div class="carousel-inner" role="listbox">
												
												<% if shop.shop_images.size > 0 %>
												
													<% shop.shop_images.each_with_index do |img, count| %>
														<div class="item <%= count == 0 ? 'active' : '' %>">	
															<%= image_tag img.image.url, :alt => "Currently Not Available", :title => "#{img.image_file_name}", :class => "img-responsive center-block", :style => "height: 95px" %>
														</div>
													<% end %>
													
												<% else %>
												
													<div class="item active">						
														<%= image_tag "image_holder.png", :alt => "Currently Not Available", :title => "No Product Image Found", :class => "img-responsive center-block", :style => "height: 95px" %>
													</div>
													
												<% end %>
								
											</div>
								
										</div>
									</td>
								</tr>
							
							<% end %>
							
						<% else %>
							
							<tr>
								<th colspan="7" class="text-danger text-center">
									No Records Found.
								</th>
							</tr>
							
						<% end %>
					
					</tbody>
					
				</table>
			
			</div>
		
		</div>
		
	</div>
	
</div>